package com.telepathicgrunt.repurposedstructures.modinit;

import com.google.common.collect.ImmutableMap;
import com.google.common.collect.ImmutableSet;
import com.telepathicgrunt.repurposedstructures.RepurposedStructures;
import com.telepathicgrunt.repurposedstructures.world.structures.AdvancedJigsawStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.BuriableStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.CityNetherStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.GenericJigsawStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.GenericNetherJigsawHighStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.LandBasedEndStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.MansionStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.OutpostNetherStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.RSMineshaftEndStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.RSMineshaftStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.RSNetherStrongholdStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.ShipwreckEndStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.ShipwreckNetherStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.TempleNetherStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.VillageNetherStructure;
import com.telepathicgrunt.repurposedstructures.world.structures.configs.NetherShipwreckConfig;
import com.telepathicgrunt.repurposedstructures.world.structures.pieces.MansionPieces;
import com.telepathicgrunt.repurposedstructures.world.structures.pieces.StructurePiecesBehavior;
import net.fabricmc.fabric.api.structure.v1.FabricStructureBuilder;
import net.fabricmc.fabric.impl.structure.FabricStructureImpl;
import net.minecraft.util.Identifier;
import net.minecraft.world.gen.GenerationStep;
import net.minecraft.world.gen.chunk.StructureConfig;
import net.minecraft.world.gen.chunk.StructuresConfig;
import net.minecraft.world.gen.feature.DefaultFeatureConfig;
import net.minecraft.world.gen.feature.FeatureConfig;
import net.minecraft.world.gen.feature.StructureFeature;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.stream.Collectors;
import java.util.stream.Stream;


public class RSStructures {
    public static final Map<StructureFeature<?>, StructureConfig> RS_STRUCTURES = new HashMap<>();
    public static final Set<Identifier> RS_STRUCTURE_START_PIECES = new HashSet<>();

    public static StructureFeature<DefaultFeatureConfig> BIRCH_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/birch/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.birchMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/birch/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.birchMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.birchMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.birchMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.birchMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> DARK_FOREST_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/dark_forest/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.darkForestMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/dark_forest/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.darkForestMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.darkForestMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.darkForestMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.darkForestMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> DESERT_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/desert/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.desertMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/desert/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.desertMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.desertMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.desertMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.desertMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> END_MINESHAFT = new RSMineshaftEndStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/end/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.endMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/end/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.endMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.endMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.endMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.endMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.NONE);
    public static StructureFeature<DefaultFeatureConfig> NETHER_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/nether/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.netherMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/nether/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.netherMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.netherMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.netherMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.netherMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.NONE);
    public static StructureFeature<DefaultFeatureConfig> CRIMSON_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/crimson/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.crimsonMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/crimson/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.crimsonMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.crimsonMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.crimsonMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.crimsonMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.NONE);
    public static StructureFeature<DefaultFeatureConfig> WARPED_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/warped/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.warpedMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/warped/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.warpedMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.warpedMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.warpedMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.warpedMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.NONE);
    public static StructureFeature<DefaultFeatureConfig> ICY_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/icy/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.icyMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/icy/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.icyMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.icyMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.icyMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.icyMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> JUNGLE_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/jungle/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.jungleMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/jungle/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.jungleMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.jungleMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.jungleMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.jungleMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> OCEAN_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/ocean/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.oceanMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/ocean/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.oceanMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.oceanMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.oceanMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.oceanMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.AIR);
    public static StructureFeature<DefaultFeatureConfig> SAVANNA_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/savanna/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.savannaMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/savanna/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.savannaMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.savannaMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.savannaMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.savannaMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> STONE_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/stone/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.stoneMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/stone/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.stoneMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.stoneMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.stoneMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.stoneMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> SWAMP_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/swamp/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.swampMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/swamp/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.swampMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.swampMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.swampMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.swampMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);
    public static StructureFeature<DefaultFeatureConfig> TAIGA_MINESHAFT = new RSMineshaftStructure(new Identifier(RepurposedStructures.MODID, "mineshafts/taiga/start_pool"), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.taigaMineshaftSize, ImmutableMap.of(new Identifier(RepurposedStructures.MODID, "mineshafts/taiga/spawner_4_end"), new StructurePiecesBehavior.RequiredPieceNeeds(1, Math.min(5, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.size.taigaMineshaftSize))), RepurposedStructures.RSAllConfig.RSMineshaftsConfig.maxHeight.taigaMineshaftMaxHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.minHeight.taigaMineshaftMinHeight, RepurposedStructures.RSAllConfig.RSMineshaftsConfig.spawnrate.taigaMineshaftSpawnrate, RSMineshaftStructure.ENVIRONMENT_CHECK.LIQUID);


    public static StructureFeature<DefaultFeatureConfig> NETHER_STRONGHOLD = new RSNetherStrongholdStructure(
            new Identifier(RepurposedStructures.MODID, "strongholds/nether/start_pool"),
            RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdSize,
            ImmutableMap.of(
                    new Identifier(RepurposedStructures.MODID, "strongholds/nether/portal_room"),
                    new StructurePiecesBehavior.RequiredPieceNeeds(1, (int) (RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdSize * 0.6D))),
            RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdMaxHeight,
            RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdMinHeight);


    public static StructureFeature<DefaultFeatureConfig> JUNGLE_FORTRESS = new AdvancedJigsawStructure(
            new Identifier(RepurposedStructures.MODID, "fortresses/jungle/start_pool"),
            RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressSize,
            4,
            ImmutableMap.of(
                    new Identifier(RepurposedStructures.MODID, "fortresses/jungle/spawner"),
                    new StructurePiecesBehavior.RequiredPieceNeeds(2, (int) (RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressSize * 0.6D)),
                    new Identifier(RepurposedStructures.MODID, "fortresses/jungle/balcony"),
                    new StructurePiecesBehavior.RequiredPieceNeeds(1, (int) (RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressSize * 0.2D)),
                    new Identifier(RepurposedStructures.MODID, "fortresses/jungle/turn_inside_chest"),
                    new StructurePiecesBehavior.RequiredPieceNeeds(4, (int) (RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressSize * 0.6D))),
            RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressMaxHeight,
            RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressMinHeight,
            false,
            RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressVerticalRange);

    public static StructureFeature<DefaultFeatureConfig> GRASSY_IGLOO = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "igloos/grassy_top"), 20, 0, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> STONE_IGLOO = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "igloos/stone_top"), 20, 0, 0, 0, new HashSet<>());

    public static StructureFeature<DefaultFeatureConfig> NETHER_WASTELAND_TEMPLE = new TempleNetherStructure(new Identifier(RepurposedStructures.MODID, "temples/nether_wasteland"));
    public static StructureFeature<DefaultFeatureConfig> NETHER_BASALT_TEMPLE = new TempleNetherStructure(new Identifier(RepurposedStructures.MODID, "temples/nether_basalt"));
    public static StructureFeature<DefaultFeatureConfig> NETHER_WARPED_TEMPLE = new TempleNetherStructure(new Identifier(RepurposedStructures.MODID, "temples/nether_warped"));
    public static StructureFeature<DefaultFeatureConfig> NETHER_CRIMSON_TEMPLE = new TempleNetherStructure(new Identifier(RepurposedStructures.MODID, "temples/nether_crimson"));
    public static StructureFeature<DefaultFeatureConfig> NETHER_SOUL_TEMPLE = new TempleNetherStructure(new Identifier(RepurposedStructures.MODID, "temples/nether_soul"));

    public static StructureFeature<DefaultFeatureConfig> NETHER_BRICK_OUTPOST = new OutpostNetherStructure(new Identifier(RepurposedStructures.MODID, "outposts/nether_brick/base_plates"));
    public static StructureFeature<DefaultFeatureConfig> WARPED_OUTPOST = new OutpostNetherStructure(new Identifier(RepurposedStructures.MODID, "outposts/warped/base_plates"));
    public static StructureFeature<DefaultFeatureConfig> CRIMSON_OUTPOST = new OutpostNetherStructure(new Identifier(RepurposedStructures.MODID, "outposts/crimson/base_plates"));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_BIRCH = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/birch/base_plates"), 11, 0, 0, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_JUNGLE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/jungle/base_plates"), 11, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_GIANT_TREE_TAIGA = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/giant_tree_taiga/base_plates"), 11, 0, 0, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_DESERT = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/desert/base_plates"), 11, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_BADLANDS = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/badlands/base_plates"), 11, 0, 0, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()), 20, 1);
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_SNOWY = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/snowy/base_plates"), 11, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_ICY = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/icy/base_plates"), 11, 0, 0, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_TAIGA = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/taiga/base_plates"), 11, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_OAK = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/oak/base_plates"), 11, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.VILLAGE).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> OUTPOST_END = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "outposts/end/base_plates"), 11, 0, 2, 4, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.END_AVOID_STRUCTURE).collect(Collectors.toSet()), 15, 3, 55);

    public static StructureFeature<DefaultFeatureConfig> NETHER_PYRAMID = new GenericNetherJigsawHighStructure(new Identifier(RepurposedStructures.MODID, "pyramids/nether"), 1, -4, 0);
    public static StructureFeature<DefaultFeatureConfig> BADLANDS_PYRAMID = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/badlands"));
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_SNOWY = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/snowy"));
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_END = new LandBasedEndStructure(new Identifier(RepurposedStructures.MODID, "pyramids/end"), 11, -2, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_ICY = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/icy"));
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_JUNGLE = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/jungle"), 20);
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_MUSHROOM = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/mushroom"));
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_OCEAN = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/ocean"), false);
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_GIANT_TREE_TAIGA = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/giant_tree_taiga"));
    public static StructureFeature<DefaultFeatureConfig> PYRAMID_FLOWER_FOREST = new BuriableStructure(new Identifier(RepurposedStructures.MODID, "pyramids/flower_forest"));

    public static StructureFeature<DefaultFeatureConfig> END_SHIPWRECK = new ShipwreckEndStructure();
    public static StructureFeature<NetherShipwreckConfig> NETHER_BRICKS_SHIPWRECK = new ShipwreckNetherStructure(new Identifier(RepurposedStructures.MODID, "shipwrecks/nether_bricks"), -3);
    public static StructureFeature<NetherShipwreckConfig> CRIMSON_SHIPWRECK = new ShipwreckNetherStructure(new Identifier(RepurposedStructures.MODID, "shipwrecks/crimson"), -4);
    public static StructureFeature<NetherShipwreckConfig> WARPED_SHIPWRECK = new ShipwreckNetherStructure(new Identifier(RepurposedStructures.MODID, "shipwrecks/warped"), -4);

    public static StructureFeature<DefaultFeatureConfig> BADLANDS_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/badlands/town_centers"), 10, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()), 20, 2);
    public static StructureFeature<DefaultFeatureConfig> BIRCH_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/birch/town_centers"), 6, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> DARK_FOREST_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/dark_forest/town_centers"), 6, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> JUNGLE_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/jungle/town_centers"), 8, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION, RSStructureTagMap.STRUCTURE_TAGS.FORTRESS).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> SWAMP_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/swamp/town_centers"), 6, -1, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> MOUNTAINS_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/mountains/town_centers"), 6, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> GIANT_TAIGA_VILLAGE = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/giant_taiga/town_centers"), 6, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));
    public static StructureFeature<DefaultFeatureConfig> CRIMSON_VILLAGE = new VillageNetherStructure(new Identifier(RepurposedStructures.MODID, "villages/crimson/town_centers"), 6, 0, 1, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> WARPED_VILLAGE = new VillageNetherStructure(new Identifier(RepurposedStructures.MODID, "villages/warped/town_centers"), 6, 0, 1, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> VILLAGE_OAK = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "villages/oak/town_centers"), 6, 0, 1, 5, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.MANSION).collect(Collectors.toSet()));

    public static StructureFeature<DefaultFeatureConfig> RUINED_PORTAL_END = new LandBasedEndStructure(new Identifier(RepurposedStructures.MODID, "ruined_portals/end"), 20, -6, 0, 0, new HashSet<>());

    public static StructureFeature<DefaultFeatureConfig> RUINS_NETHER = new GenericNetherJigsawHighStructure(new Identifier(RepurposedStructures.MODID, "ruins/nether/start_pool"), 1, -4, -1);
    public static StructureFeature<DefaultFeatureConfig> RUINS_LAND_WARM = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "ruins/land_warm/start_pool"), 2, 0, 0, 0, new HashSet<>(), 5, 2);
    public static StructureFeature<DefaultFeatureConfig> RUINS_LAND_HOT = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "ruins/land_hot/start_pool"), 2, 0, 0, 0, new HashSet<>(), 5, 2);
    // regexpos1

    public static StructureFeature<DefaultFeatureConfig> CITY_NETHER = new CityNetherStructure(new Identifier(RepurposedStructures.MODID, "cities/nether/start_pool"), 5, 0, 0, 4, Stream.of(RSStructureTagMap.STRUCTURE_TAGS.GENERIC_AVOID_NETHER_STRUCTURE).collect(Collectors.toSet()));

    public static StructureFeature<DefaultFeatureConfig> MANSION_BIRCH = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.BIRCH);
    public static StructureFeature<DefaultFeatureConfig> MANSION_JUNGLE = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.JUNGLE);
    public static StructureFeature<DefaultFeatureConfig> MANSION_OAK = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.OAK);
    public static StructureFeature<DefaultFeatureConfig> MANSION_SAVANNA = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.SAVANNA);
    public static StructureFeature<DefaultFeatureConfig> MANSION_TAIGA = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.TAIGA);
    public static StructureFeature<DefaultFeatureConfig> MANSION_DESERT = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.DESERT);
    public static StructureFeature<DefaultFeatureConfig> MANSION_SNOWY = new MansionStructure(MansionPieces.Piece.MANSIONTYPE.SNOWY);

    public static StructureFeature<DefaultFeatureConfig> WITCH_HUTS_OAK = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "witch_huts/oak_start_pool"), 11, 0, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> WITCH_HUTS_TAIGA = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "witch_huts/taiga_start_pool"), 11, 0, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> WITCH_HUTS_BIRCH = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "witch_huts/birch_start_pool"), 11, 0, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> WITCH_HUTS_DARK_FOREST = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "witch_huts/dark_forest_start_pool"), 11, 0, 0, 0, new HashSet<>());
    public static StructureFeature<DefaultFeatureConfig> WITCH_HUTS_GIANT_TREE_TAIGA = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "witch_huts/giant_tree_taiga_start_pool"), 11, 0, 0, 0, new HashSet<>());

    public static StructureFeature<DefaultFeatureConfig> BASTION_UNDERGROUND = new GenericJigsawStructure(new Identifier(RepurposedStructures.MODID, "bastions/underground/starts"), 7, 10, 5,  ImmutableSet.of(RSStructureTagMap.STRUCTURE_TAGS.BASTION_AVOID_STRUCTURE), 12);

    public static void registerStructures() {

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_birch"), BIRCH_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 399117345)).superflatFeature(BIRCH_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_dark_forest"), DARK_FOREST_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 2011511156)).superflatFeature(DARK_FOREST_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_desert"), DESERT_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1990612785)).superflatFeature(DESERT_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_end"), END_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 2057488602)).superflatFeature(END_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_nether"), NETHER_MINESHAFT).step(GenerationStep.Feature.VEGETAL_DECORATION).defaultConfig(new StructureConfig(1, 0, 1220811654)).superflatFeature(NETHER_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_crimson"), CRIMSON_MINESHAFT).step(GenerationStep.Feature.VEGETAL_DECORATION).defaultConfig(new StructureConfig(1, 0, 1153019610)).superflatFeature(CRIMSON_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_warped"), WARPED_MINESHAFT).step(GenerationStep.Feature.VEGETAL_DECORATION).defaultConfig(new StructureConfig(1, 0, 1095888662)).superflatFeature(WARPED_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_icy"), ICY_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1451015246)).superflatFeature(ICY_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_jungle"), JUNGLE_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1434412876)).superflatFeature(JUNGLE_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_ocean"), OCEAN_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1774808662)).superflatFeature(OCEAN_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_savanna"), SAVANNA_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1960212212)).superflatFeature(SAVANNA_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_stone"), STONE_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1436736620)).superflatFeature(STONE_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_swamp"), SWAMP_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 2037177700)).superflatFeature(SWAMP_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mineshaft_taiga"), TAIGA_MINESHAFT).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(1, 0, 1383003172)).superflatFeature(TAIGA_MINESHAFT.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "stronghold_nether"), NETHER_STRONGHOLD).step(GenerationStep.Feature.TOP_LAYER_MODIFICATION).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSStrongholdsConfig.nether.netherStrongholdAverageChunkDistance * 0.5f), 1731422513)).superflatFeature(NETHER_STRONGHOLD.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "fortress_jungle"), JUNGLE_FORTRESS).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSFortressesConfig.jungleFortress.jungleFortressAverageChunkDistance * 0.5f), 1464189157)).superflatFeature(JUNGLE_FORTRESS.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "igloo_grassy"), GRASSY_IGLOO).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSIgloosConfig.grassyIglooAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSIgloosConfig.grassyIglooAverageChunkDistance * 0.5f), 1460835582)).superflatFeature(GRASSY_IGLOO.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "igloo_stone"), STONE_IGLOO).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSIgloosConfig.stoneIglooAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSIgloosConfig.stoneIglooAverageChunkDistance * 0.5f), 1327429039)).superflatFeature(STONE_IGLOO.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "temple_nether_wasteland"), NETHER_WASTELAND_TEMPLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSTemplesConfig.netherWastelandTempleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSTemplesConfig.netherWastelandTempleAverageChunkDistance * 0.5f), 1435489909)).superflatFeature(NETHER_WASTELAND_TEMPLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "temple_nether_soul"), NETHER_SOUL_TEMPLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSTemplesConfig.netherSoulTempleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSTemplesConfig.netherSoulTempleAverageChunkDistance * 0.5f), 1799485937)).superflatFeature(NETHER_SOUL_TEMPLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "temple_nether_basalt"), NETHER_BASALT_TEMPLE).step(GenerationStep.Feature.VEGETAL_DECORATION).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSTemplesConfig.netherBasaltTempleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSTemplesConfig.netherBasaltTempleAverageChunkDistance * 0.5f), 1063117750)).superflatFeature(NETHER_BASALT_TEMPLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "temple_nether_crimson"), NETHER_CRIMSON_TEMPLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSTemplesConfig.netherCrimsonTempleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSTemplesConfig.netherCrimsonTempleAverageChunkDistance * 0.5f), 1898896156)).superflatFeature(NETHER_CRIMSON_TEMPLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "temple_nether_warped"), NETHER_WARPED_TEMPLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSTemplesConfig.netherWarpedTempleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSTemplesConfig.netherWarpedTempleAverageChunkDistance * 0.5f), 1635542708)).superflatFeature(NETHER_WARPED_TEMPLE.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_nether_brick"), NETHER_BRICK_OUTPOST).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.netherBrickOutpostAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.netherBrickOutpostAverageChunkDistance * 0.5f), 1305971394)).superflatFeature(NETHER_BRICK_OUTPOST.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_warped"), WARPED_OUTPOST).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.warpedOutpostAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.warpedOutpostAverageChunkDistance * 0.5f), 1928816918)).superflatFeature(WARPED_OUTPOST.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_crimson"), CRIMSON_OUTPOST).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.crimsonOutpostAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.crimsonOutpostAverageChunkDistance * 0.5f), 1951425662)).superflatFeature(CRIMSON_OUTPOST.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_birch"), OUTPOST_BIRCH).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostBirchAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostBirchAverageChunkDistance * 0.5f), 1676743168)).superflatFeature(OUTPOST_BIRCH.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_jungle"), OUTPOST_JUNGLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostJungleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostJungleAverageChunkDistance * 0.5f), 548433028)).superflatFeature(OUTPOST_JUNGLE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_giant_tree_taiga"), OUTPOST_GIANT_TREE_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostGiantTreeTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostGiantTreeTaigaAverageChunkDistance * 0.5f), 993252541)).superflatFeature(OUTPOST_GIANT_TREE_TAIGA.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_desert"), OUTPOST_DESERT).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostDesertAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostDesertAverageChunkDistance * 0.5f), 593099376)).superflatFeature(OUTPOST_DESERT.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_badlands"), OUTPOST_BADLANDS).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostBadlandsAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostBadlandsAverageChunkDistance * 0.5f), 1702026868)).superflatFeature(OUTPOST_BADLANDS.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_snowy"), OUTPOST_SNOWY).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostSnowyAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostSnowyAverageChunkDistance * 0.5f), 849388460)).superflatFeature(OUTPOST_SNOWY.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_icy"), OUTPOST_ICY).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostIcyAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostIcyAverageChunkDistance * 0.5f), 935294633)).superflatFeature(OUTPOST_ICY.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_taiga"), OUTPOST_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostTaigaAverageChunkDistance * 0.5f), 272805097)).superflatFeature(OUTPOST_TAIGA.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_oak"), OUTPOST_OAK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostOakAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostOakAverageChunkDistance * 0.5f), 698118385)).superflatFeature(OUTPOST_OAK.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "outpost_end"), OUTPOST_END).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostEndAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSOutpostsConfig.outpostEndAverageChunkDistance * 0.5f), 831830630)).superflatFeature(OUTPOST_END.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_badlands"), BADLANDS_PYRAMID).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidBadlandsAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidBadlandsAverageChunkDistance * 0.5f), 1718729448)).superflatFeature(BADLANDS_PYRAMID.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_nether"), NETHER_PYRAMID).step(GenerationStep.Feature.VEGETAL_DECORATION).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidNetherAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidNetherAverageChunkDistance * 0.5f), 2054372964)).superflatFeature(NETHER_PYRAMID.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_snowy"), PYRAMID_SNOWY).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidSnowyAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidSnowyAverageChunkDistance * 0.5f), 1630533493)).superflatFeature(PYRAMID_SNOWY.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_end"), PYRAMID_END).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidEndAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidEndAverageChunkDistance * 0.5f), 1145023315)).superflatFeature(PYRAMID_END.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_icy"), PYRAMID_ICY).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidIcyAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidIcyAverageChunkDistance * 0.5f), 884076931)).superflatFeature(PYRAMID_ICY.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_jungle"), PYRAMID_JUNGLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidJungleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidJungleAverageChunkDistance * 0.5f), 1483015905)).superflatFeature(PYRAMID_JUNGLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_mushroom"), PYRAMID_MUSHROOM).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidMushroomAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidMushroomAverageChunkDistance * 0.5f), 1035759391)).superflatFeature(PYRAMID_MUSHROOM.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_ocean"), PYRAMID_OCEAN).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidOceanAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidOceanAverageChunkDistance * 0.5f), 777281414)).superflatFeature(PYRAMID_OCEAN.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_giant_tree_taiga"), PYRAMID_GIANT_TREE_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidGiantTreeTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidGiantTreeTaigaAverageChunkDistance * 0.5f), 1977974973)).superflatFeature(PYRAMID_GIANT_TREE_TAIGA.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "pyramid_flower_forest"), PYRAMID_FLOWER_FOREST).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidFlowerForestAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSPyramidsConfig.pyramidFlowerForestAverageChunkDistance * 0.5f), 1984904323)).superflatFeature(PYRAMID_FLOWER_FOREST.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "shipwreck_end"), END_SHIPWRECK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSShipwrecksConfig.endShipwreckAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSShipwrecksConfig.endShipwreckAverageChunkDistance * 0.5f), 1605500075)).superflatFeature(END_SHIPWRECK.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "shipwreck_nether_bricks"), NETHER_BRICKS_SHIPWRECK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSShipwrecksConfig.netherBricksShipwreckAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSShipwrecksConfig.netherBricksShipwreckAverageChunkDistance * 0.5f), 2073308006)).superflatFeature(NETHER_BRICKS_SHIPWRECK.configure(new NetherShipwreckConfig(true))).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "shipwreck_crimson"), CRIMSON_SHIPWRECK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSShipwrecksConfig.crimsonShipwreckAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSShipwrecksConfig.crimsonShipwreckAverageChunkDistance * 0.5f), 1019716871)).superflatFeature(CRIMSON_SHIPWRECK.configure(new NetherShipwreckConfig(false))).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "shipwreck_warped"), WARPED_SHIPWRECK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSShipwrecksConfig.warpedShipwreckAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSShipwrecksConfig.warpedShipwreckAverageChunkDistance * 0.5f), 2072979641)).superflatFeature(WARPED_SHIPWRECK.configure(new NetherShipwreckConfig(false))).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_badlands"), BADLANDS_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.badlandsVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.badlandsVillageAverageChunkDistance * 0.5f), 1319707555)).superflatFeature(BADLANDS_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_birch"), BIRCH_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.birchVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.birchVillageAverageChunkDistance * 0.5f), 1102567365)).superflatFeature(BIRCH_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_dark_oak"), DARK_FOREST_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.darkForestVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.darkForestVillageAverageChunkDistance * 0.5f), 1921339358)).superflatFeature(DARK_FOREST_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_jungle"), JUNGLE_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.jungleVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.jungleVillageAverageChunkDistance * 0.5f), 1229975218)).superflatFeature(JUNGLE_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_swamp"), SWAMP_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.swampVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.swampVillageAverageChunkDistance * 0.5f), 1559650945)).superflatFeature(SWAMP_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_mountains"), MOUNTAINS_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.mountainsVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.mountainsVillageAverageChunkDistance * 0.5f), 2010875989)).superflatFeature(MOUNTAINS_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_giant_taiga"), GIANT_TAIGA_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.giantTaigaVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.giantTaigaVillageAverageChunkDistance * 0.5f), 1559528842)).superflatFeature(GIANT_TAIGA_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_crimson"), CRIMSON_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.crimsonVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.crimsonVillageAverageChunkDistance * 0.5f), 1854750198)).superflatFeature(CRIMSON_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_warped"), WARPED_VILLAGE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.warpedVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.warpedVillageAverageChunkDistance * 0.5f), 1298332136)).superflatFeature(WARPED_VILLAGE.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "village_oak"), VILLAGE_OAK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSVillagesConfig.oakVillageAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSVillagesConfig.oakVillageAverageChunkDistance * 0.5f), 2112891039)).superflatFeature(VILLAGE_OAK.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "ruined_portal_end"), RUINED_PORTAL_END).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSRuinedPortalsConfig.ruinedPortalEndAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSRuinedPortalsConfig.ruinedPortalEndAverageChunkDistance * 0.5f), 532404086)).superflatFeature(RUINED_PORTAL_END.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "ruins_nether"), RUINS_NETHER).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsNetherAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsNetherAverageChunkDistance * 0.5f), 1336047555)).superflatFeature(RUINS_NETHER.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "ruins_land_warm"), RUINS_LAND_WARM).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsLandWarmAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsLandWarmAverageChunkDistance * 0.25f), 18646107)).superflatFeature(RUINS_LAND_WARM.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "ruins_land_hot"), RUINS_LAND_HOT).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsLandHotAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSRuinsConfig.ruinsLandHotAverageChunkDistance * 0.25f), 1243670027)).superflatFeature(RUINS_LAND_HOT.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();
        // regexpos2

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "city_nether"), CITY_NETHER).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSCitiesConfig.cityNetherAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSCitiesConfig.cityNetherAverageChunkDistance * 0.5f), 2082652405)).superflatFeature(CITY_NETHER.configure(FeatureConfig.DEFAULT)).adjustsSurface().register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_birch"), MANSION_BIRCH).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionBirchAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionBirchAverageChunkDistance * 0.5f), 182367035)).superflatFeature(MANSION_BIRCH.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_jungle"), MANSION_JUNGLE).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionJungleAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionJungleAverageChunkDistance * 0.5f), 1267916621)).superflatFeature(MANSION_JUNGLE.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_oak"), MANSION_OAK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionOakAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionOakAverageChunkDistance * 0.5f), 147853731)).superflatFeature(MANSION_OAK.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_savanna"), MANSION_SAVANNA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionSavannaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionSavannaAverageChunkDistance * 0.5f), 2024558925)).superflatFeature(MANSION_SAVANNA.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_taiga"), MANSION_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionTaigaAverageChunkDistance * 0.5f), 418506505)).superflatFeature(MANSION_TAIGA.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_desert"), MANSION_DESERT).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionDesertAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionDesertAverageChunkDistance * 0.5f), 724317387)).superflatFeature(MANSION_DESERT.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "mansion_snowy"), MANSION_SNOWY).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionSnowyAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSMansionsConfig.mansionSnowyAverageChunkDistance * 0.5f), 1115107889)).superflatFeature(MANSION_SNOWY.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "witch_hut_oak"), WITCH_HUTS_OAK).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsOakAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsOakAverageChunkDistance * 0.5f), 741641348)).superflatFeature(WITCH_HUTS_OAK.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "witch_hut_taiga"), WITCH_HUTS_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsTaigaAverageChunkDistance * 0.5f), 1925189659)).superflatFeature(WITCH_HUTS_TAIGA.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "witch_hut_birch"), WITCH_HUTS_BIRCH).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsBirchAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsBirchAverageChunkDistance * 0.5f), 904634508)).superflatFeature(WITCH_HUTS_BIRCH.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "witch_hut_dark_forest"), WITCH_HUTS_DARK_FOREST).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsDarkForestAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsDarkForestAverageChunkDistance * 0.5f), 165100151)).superflatFeature(WITCH_HUTS_DARK_FOREST.configure(FeatureConfig.DEFAULT)).register();
        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "witch_hut_giant_tree_taiga"), WITCH_HUTS_GIANT_TREE_TAIGA).step(GenerationStep.Feature.SURFACE_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsGiantTreeTaigaAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSWitchHutsConfig.witchHutsGiantTreeTaigaAverageChunkDistance * 0.5f), 200289401)).superflatFeature(WITCH_HUTS_GIANT_TREE_TAIGA.configure(FeatureConfig.DEFAULT)).register();

        FabricStructureBuilder.create(new Identifier(RepurposedStructures.MODID, "bastion_underground"), BASTION_UNDERGROUND).step(GenerationStep.Feature.UNDERGROUND_STRUCTURES).defaultConfig(new StructureConfig(RepurposedStructures.RSAllConfig.RSBastionsConfig.bastionUndergroundAverageChunkDistance, (int) (RepurposedStructures.RSAllConfig.RSBastionsConfig.bastionUndergroundAverageChunkDistance * 0.5f), 1359301629)).superflatFeature(BASTION_UNDERGROUND.configure(FeatureConfig.DEFAULT)).register();

        RS_STRUCTURES.putAll(StructuresConfig.DEFAULT_STRUCTURES);
        RS_STRUCTURES.putAll(FabricStructureImpl.STRUCTURE_TO_CONFIG_MAP); // Override DEFAULT_STRUCTURES by default for same key as FabricStructureImpl is what is used for worldgen
        RS_STRUCTURES.keySet().removeIf(key -> key.getName() == null || !key.getName().contains(RepurposedStructures.MODID));

        //registers the structure pieces.
        RSStructurePieces.registerStructurePieces();
    }
}
